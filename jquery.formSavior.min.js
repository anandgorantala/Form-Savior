(function(a){a.fn.formSavior=function(c){return this.each(function(){var d={msg:"There are unsaved changes on this form"};c&&a.extend(d,c);var e="",f=true,b=a(this);$win=a(window);$doc=a(document);$doc.ready(function(){e=b.serialize()});b.submit(function(){f=false});$win.bind("beforeunload",function(){current=b.serialize();if(current!=e&&f===true)return d.msg})})}})(jQuery);